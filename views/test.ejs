   <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="/css/test.css">
     <%- include("partials/bootstrap-call.ejs") %> 
	 <%- include("partials/fonts-call.ejs") %> 

    <title>Test</title>
</head>
<body class="d-flex flex-column min-vh-100">
  <%- include('partials/header') %> 
<main class="flex-grow-1">
<!--
 ___________________________________________________    
|                                                   |
|                   Nav Cards                       |
|                                                   |
|___________________________________________________|
-->
	<div class="container d-flex flex-wrap justify-content-center gap-4 mt-5">
    <div class="nav-card">Orders</div>
    <div class="nav-card">Organization</div>
    <div class="nav-card">Account</div>
    <div class="nav-card">Items</div>
  </div>


<!--
 ___________________________________________________    
|                                                   |
|              Change Request Form                  |
|                                                   |
|___________________________________________________|
-->

  <div class="container d-flex justify-content-center align-items-center mt-5">
    <div class="card p-4 shadow-sm" style="max-width: 500px; width: 100%;" id="changeRequestFormCard">
      <form id="changeRequestForm">
        <div class="mb-4">
          <h3>Change Request Form</h3>
        </div>
        <div class="mb-3">
          <label for="field1" class="form-label">Name</label>
          <input type="text" class="form-control" id="field1" name="name">
        </div>
        <div class="mb-3">
          <label for="field2" class="form-label">Requested Change</label>
          <input type="text" class="form-control" id="field2" name="change">
        </div>
        <div class="mb-3">
          <label for="details" class="form-label">Details</label>
          <textarea id="details" name="details" rows="4" cols="50" class="form-control"
              placeholder="Provide the context and purpose of your proposed change"></textarea>
        </div>
        <div class="mb-3">
          <label for="affected_pages" class="form-label">Page(s) Affected</label>
          <textarea id="affected_pages" name="pages" rows="4" cols="50" class="form-control"
          placeholder="Please list the webpage(s) that will be affected by this change"></textarea>
        </div>
        <div class="mb-3">
          <label for="date" class="form-label">Estimated completion date</label>
          <input type="date" class="form-control" id="date" name="date">
        </div> 
       <div class="d-flex justify-content-between align-items-center w-100">
          <p id="responseMessage" class="m-0"></p>
          <button type="submit" class="btn">Submit</button>
       </div>
      </form>
    </div>
  </div>

<!--
 ___________________________________________________    
|                                                   |
|                   Item Table                      |
|                                                   |
|___________________________________________________|
-->

<div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-12">  
            <div id="inventoryTableContainer" class="border rounded shadow p-3">
                <table id="inventoryTable" class="table table-striped">
                    <thead>
                        <tr>
                        <th>Sku</th>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Supplier</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Unit</th>
                        </tr>
                    </thead>
                    <tbody id="itemsList">
                        <!--Dynamically insert the inventory of the user's org-->
                        <% items.forEach(({sku, name, category, supplier, price, quantity, unit})=> { %>
                        <tr>
                            <td><%= sku %></td>
                            <td><%= name %></td>
                            <td><%= category %></td>
                            <td><%= supplier %></td>
                            <td>$<%= price %></td>
                            <td><%= quantity %></td>
                            <td><%= unit %></td>
                        </tr>
                        <% }) %>
                    </tbody>
                    <tfoot>

                    </tfoot>
                </table>
                <div>
                    <form id="addItemsForm">
                        <input type="text" class="form-control" placeholder="Sku">
                        <input type="text" class="form-control" placeholder="Name">
                        <input type="text" class="form-control" placeholder="Category">
                        <input type="text" class="form-control" placeholder="Supplier">
                        <input type="text" class="form-control" placeholder="Price">
                        <input type="text" class="form-control" placeholder="Qty">
                        <input type="text" class="form-control" placeholder="Unit">
                    </form>
                </div>
            </div>
        </div>
        </div>
      </div>
    </div>

<!--
 ___________________________________________________    
|                                                   |
|                   Item Cards                      |
|                                                   |
|___________________________________________________|
-->
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-4">
     <% const item = items[0]; %>
      <div class="card item-card" id="currentItem">
        <div class="card-body">
          <h5 class="card-title text-center mb-3" id="name"><%= item.name%></h5>
          <div class="d-flex justify-content-between item-card-data">
            <p class="card-text">sku:</p>
            <p class="card-text" id="sku"><%= item.sku%></p>
          </div>
          <div class="d-flex justify-content-between item-card-data">
            <p class="card-text">category: </p>
            <p class="card-text" id="category"><%= item.category%></p>
          </div>
          <div class="d-flex justify-content-between item-card-data">
            <p class="card-text">supplier: </p>
            <p class="card-text" id="supplier"><%= item.supplier%></p>
          </div>
          <div class="d-flex justify-content-between item-card-data">
            <p class="card-text" id="pricePerUnit">price / <%= item.unit%></p>
            <p class="card-text" id="price"><%= item.price%></p>
          </div>
          <div class="d-flex justify-content-between item-card-data">
            <p class="card-text">quantity: </p>
            <p class="card-text" id="quantity"><%= item.quantity%></p>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<script> const inventory = <%- JSON.stringify(items) %>; </script>
<script src="/js/utils.js"></script>
<script src="/js/inventory-card-scroll-temp.js" defer></script>
<script src="/js/change-request-form.js"></script>


</main>
<%- include('partials/footer') %> 
</body>
</html>